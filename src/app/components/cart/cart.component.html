<section class="single-banner">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="single-content">
                    <h2>Danh sách giỏ hàng</h2>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a [routerLink]="['/home']">Trang chủ</a></li>
                        <li class="breadcrumb-item active" aria-current="page">
                            Danh sách giỏ hàng
                        </li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="cart-part">
    <div class="container">
        <div class="row" *ngIf="cartDetails.length>0">
            <div class="col-lg-12">
                <div class="cart-list">
                    <table class="table-list">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Sản phẩm</th>
                                <th scope="col">Tên</th>
                                <th scope="col">Giá</th>
                                <th scope="col">Số lượng</th>
                                <th scope="col">Tổng tiền</th>
                                <th scope="col">Hành động</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of cartDetails, index as i">
                                <td class="table-number">
                                    <h5>{{i+1}}</h5>
                                </td>
                                <td class="table-product">
                                    <img [src]="item.product.image" alt="product" style="cursor: pointer;" [routerLink]="['/product-detail/'+item.product.productId]" />
                                </td>
                                <td class="table-name">
                                    <h5>{{item.product.name}}</h5>
                                </td>
                                <td class="table-price">
                                    <h5>{{item.product.price*(1 - item.product.discount/100) | currency:'VND'}}</h5>
                                </td>
                                <td class="table-quantity">
                                    <input type="number" min="1" placeholder="0" [value]="item.quantity" name="quantity" [(ngModel)]="item.quantity" (change)="update(item.cartDetailId, item.quantity)" />
                                </td>
                                <td class="table-total">
                                    <h5>{{item.price | currency:'VND'}}</h5>
                                </td>
                                <td class="table-action">
                                    <a style="cursor: pointer;" (click)="delete(item.cartDetailId)"><i class="fas fa-trash-alt"></i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row mt-5 mb-5" *ngIf="cartDetails.length==0">
            <div class="col-8 offset-2 text-center">
                <h2 style="color: rgb(65, 180, 42);">Giỏ hàng trống</h2>
                <h2 style="color: rgb(65, 180, 42);">Hãy chọn 1 vài sản phẩm vào giỏ hàng của bạn.</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 col-lg-6 m-auto">
                <div class="cart-back text-center">
                    <a [routerLink]="['/home']" class="btn btn-inline"><i class="fas fa-undo-alt"></i><span>Trở lại
                            cửa hàng</span></a>
                </div>
            </div>
            <!-- <div class="col-md-6 col-lg-6">
                <div class="cart-cupon">
                    <form>
                        <input type="text" placeholder="Coupon Code" /><button class="btn btn-inline">
                            <i class="fas fa-cut"></i><span>Apply Now</span>
                        </button>
                    </form>
                </div>
            </div> -->
        </div>
        <div class="row mt-5" *ngIf="cartDetails.length>0">
            <div class="col-lg-12">
                <div class="cart-totals">
                    <h2 class="title">Thanh toán giỏ hàng</h2>
                    <ul>
                        <li><span>Tổng tiền</span><span>{{amountReal | currency:'VND'}}</span></li>
                        <li><span>Tiết kiệm</span><span>{{discount | currency:'VND'}}</span></li>
                        <li><span>Tổng tiền phải trả</span><span>{{amount | currency:'VND'}}</span></li>
                    </ul>
                </div>
                <div class="cart-proceed">
                    <a [routerLink]="['/checkout']" style="cursor: pointer;" class="btn btn-inline"><i class="fas fa-check"></i><span>Thanh
                            toán</span></a>
                </div>
            </div>
        </div>
    </div>
</section>